(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07a3c440"],{"2e38":function(t,a,e){"use strict";var r=e("8c44"),o=e.n(r);o.a},"8c44":function(t,a,e){},f02d:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container"},[e("div",{staticClass:"row py-4"},[t.product?e("div",{staticClass:"col-md-6 px-0"},[e("div",[e("div",{staticClass:"bg-cover bg",style:{backgroundImage:"url("+t.product.imageUrl+")"}})])]):t._e(),e("div",{staticClass:"col-md-6 pl-5"},[e("div",[e("h1",{staticClass:"mt-4"},[t._v(t._s(t.product.title))]),e("h4",{staticClass:"mt-3"},[t._v(t._s(t._f("currency")(t.product.price))+"/"+t._s(t.product.unit))]),e("hr"),e("p",{staticClass:"h5"},[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsa, possimus placeat officia eos mollitia quas doloremque unde iusto nemo, tempore odio repellendus? Eius temporibus odio perferendis rem? Praesentium, quia et?")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.count=a.target.multiple?e:e[0]}}},t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])}),0),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v("\n              小計\n              "),e("strong",[t._v(t._s(t.product.price*t.count))]),t._v(" 元\n            ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addTocart(t.product.id,t.count)}}},[t.Loading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n              加到購物車\n            ")])])])])]),e("h5",{staticClass:"my-5"},[t._v("相關商品")]),e("div",{staticClass:"related_product"},t._l(t.relatedProduct,function(a,r){return e("div",{key:r,staticClass:"related_card"},[e("router-link",{staticClass:"related_img bg-cover",style:{backgroundImage:"url("+a.imageUrl+")"},attrs:{tag:"div",to:"/client/product/"+a.id}}),e("h4",{staticClass:"related_title my-2"},[t._v(t._s(a.title))]),e("p",{staticClass:"related_price"},[t._v(t._s(t._f("currency")(a.price)))]),e("a",{staticClass:"button btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.addTocart(a.id)}}},[t._v("Add to cart")])],1)}),0)])])},o=[],c=(e("ac6a"),{data:function(){return{productId:"",product:{},count:1,relatedProduct:[]}},methods:{getProduct:function(){var t=this;this.product={};var a=this.$store.state.client.products,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("shoptext","/product/").concat(this.productId);this.$store.dispatch("updateLoading",!0),this.$http.get(e).then(function(e){t.$store.dispatch("updateLoading",!1),t.product=e.data.product,t.relatedProduct=[],a.forEach(function(a){a.category===t.product.category&&a.id!==t.product.id&&t.relatedProduct.length<3&&t.relatedProduct.push(a)})})},addTocart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.count;this.$store.dispatch("addTocart",{product_id:t,qty:a})}},computed:{Loading:function(){return this.$store.state.status.btnLoading}},watch:{$route:function(t){var a=this;a.productId=t.params.productId,a.getProduct(),a.count=1}},created:function(){this.productId=this.$route.params.productId,this.getProduct()}}),s=c,i=(e("2e38"),e("2877")),n=Object(i["a"])(s,r,o,!1,null,null,null);a["default"]=n.exports}}]);
//# sourceMappingURL=chunk-07a3c440.e242e378.js.map