(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d74b3"],{"75cb":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"btn btn-primary mt-4",on:{click:function(o){return t.openModal("post")}}},[t._v("新增優惠券")])]),e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.coupon,function(o,a){return e("tr",{key:a},[e("td",[t._v(t._s(o.title))]),e("td",[t._v(t._s(o.percent)+"%")]),e("td",[t._v(t._s(o.due_date))]),e("td",[t._v(t._s(o.code))]),e("td",{staticClass:"d-flex justify-content-center"},[e("div",[e("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return t.openModal("put",o)}}},[t._v("修改")]),e("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.opendelModal("delete",o)}}},[t._v("刪除")])])])])}),0)]),e("div",{staticClass:"modal",attrs:{id:"postModal",tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-primary"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))])]),e("div",{staticClass:"modal-body"},[e("label",{attrs:{for:"coupon_title"}},[t._v("優惠名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempcoupon.title,expression:"tempcoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_title",placeholder:"優惠名稱"},domProps:{value:t.tempcoupon.title},on:{input:function(o){o.target.composing||t.$set(t.tempcoupon,"title",o.target.value)}}}),e("label",{attrs:{for:"coupon_title"}},[t._v("折扣比例")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempcoupon.percent,expression:"tempcoupon.percent"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_percent",placeholder:"折扣比例"},domProps:{value:t.tempcoupon.percent},on:{input:function(o){o.target.composing||t.$set(t.tempcoupon,"percent",o.target.value)}}}),e("label",{attrs:{for:"coupon_dueDate"}},[t._v("截止日期")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempcoupon.due_date,expression:"tempcoupon.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"coupon_dueDate",placeholder:"截止日期"},domProps:{value:t.tempcoupon.due_date},on:{input:function(o){o.target.composing||t.$set(t.tempcoupon,"due_date",o.target.value)}}}),e("label",{attrs:{for:"coupon_code"}},[t._v("折扣碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempcoupon.code,expression:"tempcoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_code",placeholder:"折扣碼"},domProps:{value:t.tempcoupon.code},on:{input:function(o){o.target.composing||t.$set(t.tempcoupon,"code",o.target.value)}}})]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(o){return t.postCoupon(t.tempcoupon.id)}}},[t._v("儲存")])])])])]),e("div",{staticClass:"modal",attrs:{id:"delModal",tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-danger"},[e("h5",{staticClass:"modal-title"},[t._v("確認刪除"+t._s(t.tempcoupon.title)+"優惠券")]),t._m(1)]),e("div",{staticClass:"modal-body"},[e("p",{staticClass:"text-danger"},[t._v("確認刪除"+t._s(t.tempcoupon.title)+"優惠券")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(o){return t.postCoupon(t.tempcoupon.id)}}},[t._v("確認")])])])])])])},n=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",[e("tr",[e("th",[t._v("優惠名稱")]),e("th",[t._v("折扣比例")]),e("th",[t._v("截止日期")]),e("th",[t._v("折扣碼")]),e("th",{staticClass:"text-center"},[t._v("操作")])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],s=e("cebc"),c=e("1157"),i=e.n(c),l={data:function(){return{coupon:[],tempcoupon:{},couponMethod:"",title:""}},methods:{getCoupon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("shoptext","/admin/coupons?page=").concat(t),e=this;e.$http.get(o).then(function(t){e.coupon=t.data.coupons})},openModal:function(t,o){this.couponMethod=t,this.title="新增優惠券",this.tempcoupon={},"put"===t&&(this.title="修改優惠券",this.tempcoupon=Object(s["a"])({},o)),i()("#postModal").modal("show")},opendelModal:function(t,o){this.couponMethod=t,this.tempcoupon=Object(s["a"])({},o),i()("#delModal").modal("show")},postCoupon:function(t){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("shoptext","/admin/coupon"),e=this;"delete"===e.couponMethod?o="".concat("https://vue-course-api.hexschool.io","/api/").concat("shoptext","/admin/coupon/").concat(t):"put"===e.couponMethod&&(o="".concat("https://vue-course-api.hexschool.io","/api/").concat("shoptext","/admin/coupon/").concat(t)),e.$http[e.couponMethod](o,{data:e.tempcoupon}).then(function(t){e.getCoupon(),i()("#postModal").modal("hide"),i()("#delModal").modal("hide")})}},created:function(){this.getCoupon()}},p=l,d=e("2877"),u=Object(d["a"])(p,a,n,!1,null,null,null);o["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0d74b3.46f761bf.js.map