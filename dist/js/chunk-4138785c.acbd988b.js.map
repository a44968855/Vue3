{"version":3,"sources":["webpack:///./src/views/client/OrderOut.vue?5e87","webpack:///./src/views/client/OrderOut.vue?b9a1","webpack:///src/views/client/OrderOut.vue","webpack:///./src/views/client/OrderOut.vue?ead0","webpack:///./src/views/client/OrderOut.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderOut_vue_vue_type_style_index_0_scope_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderOut_vue_vue_type_style_index_0_scope_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","cart","carts","length","_e","total","_m","_l","index","key","attrs","href","disabled","status","id","on","click","$event","preventDefault","removeCart","_s","product","title","qty","unit","_f","colspan","final_total","directives","name","rawName","value","expression","type","placeholder","aria-label","aria-describedby","domProps","input","target","composing","coupon_code","addCouponCode","submit","createdOrder","for","form","user","$set","errors","has","first","class","is-invalid","cols","rows","staticRenderFns","OrderOutvue_type_script_lang_js_","data","isLoading","email","tel","address","message","methods","$store","dispatch","_this","api","concat","vm","coupon","code","$http","post","then","res","success","order","$validator","validate","result","$router","push","orderId","computed","state","btnLoading","client_OrderOutvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-4138785c.acbd988b.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderOut.vue?vue&type=style&index=0&scope=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderOut.vue?vue&type=style&index=0&scope=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-8 pb-5\"},[_c('h2',{staticClass:\"h1 py-3 font-weight-bold\"},[_vm._v(\"購物車清單\")]),(_vm.cart.carts.length===0)?_c('span',{staticClass:\"pb-5\"},[_vm._v(\"購物車內還沒有商品喔。趕緊搶購!!\")]):_vm._e(),(_vm.cart.total!==0)?_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cart.carts),function(cart,index){return _c('tr',{key:index},[_c('td',[_c('button',{staticClass:\"btn text-danger\",attrs:{\"href\":\"#\",\"disabled\":_vm.status===cart.id ? true : false},on:{\"click\":function($event){$event.preventDefault();return _vm.removeCart(cart.id)}}},[(_vm.status === cart.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_c('i',{staticClass:\"fas fa-trash-alt\"})])]),_c('td',[_vm._v(\"\\n                \"+_vm._s(cart.product.title)+\"\\n                \"),(cart.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\"已套用優惠券\")]):_vm._e()]),_c('td',[_vm._v(_vm._s(cart.qty)+\" / \"+_vm._s(cart.product.unit))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(cart.total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right h4\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right h4\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])]),(_vm.cart.final_total !==_vm.cart.total)?_c('tr',[_c('td',{staticClass:\"text-right h4\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"打折後\")]),_c('td',{staticClass:\"text-right h4 text-success\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.final_total)))])]):_vm._e()])]):_vm._e(),(_vm.cart.total!==0)?_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼: shop\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn input-group-text\",attrs:{\"id\":\"basic-addon2\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\"套用優惠碼\")])])]):_vm._e()])]),(_vm.cart.total!==0)?_c('div',{staticClass:\"my-5 row justify-content-center\"},[_c('form',{staticClass:\"col-md-6\",on:{\"submit\":function($event){$event.preventDefault();return _vm.createdOrder($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"姓名必須輸入\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",attrs:{\"type\":\"tel\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('address')},attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"地址欄位不得留空\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_vm._m(1)])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('td'),_c('td',[_vm._v(\"品名\")]),_c('td',[_vm._v(\"數量\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"價錢\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-danger\"},[_vm._v(\"送出訂單\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-8 pb-5\">\n          <h2 class=\"h1 py-3 font-weight-bold\">購物車清單</h2>\n          <span\n            class=\"pb-5\"\n            v-if=\"cart.carts.length===0\"\n          >購物車內還沒有商品喔。趕緊搶購!!</span>\n          <table\n            class=\"table\"\n            v-if=\"cart.total!==0\"\n          >\n            <thead>\n              <tr>\n                <td></td>\n                <td>品名</td>\n                <td>數量</td>\n                <td class=\"text-right\">價錢</td>\n              </tr>\n            </thead>\n            <tbody>\n              <tr\n                v-for=\"(cart,index) in cart.carts\"\n                :key=\"index\"\n              >\n                <td>\n                  <button\n                    href=\"#\"\n                    class=\"btn text-danger\"\n                    @click.prevent=\"removeCart(cart.id)\"\n                    :disabled=\"status===cart.id ? true : false\"\n                  >\n                    <i\n                      v-if=\"status === cart.id\"\n                      class=\"fas fa-spinner fa-spin\"\n                    ></i>\n                    <i\n                      v-else\n                      class=\"fas fa-trash-alt\"\n                    ></i>\n                  </button>\n                </td>\n                <td>\n                  {{cart.product.title}}\n                  <div\n                    class=\"text-success\"\n                    v-if=\"cart.coupon\"\n                  >已套用優惠券</div>\n                </td>\n                <td>{{cart.qty}} / {{cart.product.unit}}</td>\n                <td class=\"text-right\">{{cart.total|currency}}</td>\n              </tr>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td\n                  class=\"text-right h4\"\n                  colspan=\"3\"\n                >總計</td>\n                <td class=\"text-right h4\">{{cart.total|currency}}</td>\n              </tr>\n              <tr v-if=\"cart.final_total !==cart.total\">\n                <td\n                  class=\"text-right h4\"\n                  colspan=\"3\"\n                >打折後</td>\n                <td class=\"text-right h4 text-success\">{{cart.final_total|currency}}</td>\n              </tr>\n            </tfoot>\n          </table>\n          <div\n            class=\"input-group mb-3\"\n            v-if=\"cart.total!==0\"\n          >\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入優惠碼: shop\"\n              aria-label=\"Recipient's username\"\n              aria-describedby=\"basic-addon2\"\n              v-model=\"coupon_code\"\n            >\n            <div class=\"input-group-append\">\n              <button\n                class=\"btn input-group-text\"\n                id=\"basic-addon2\"\n                @click=\"addCouponCode\"\n              >套用優惠碼</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- form///// -->\n      <div\n        class=\"my-5 row justify-content-center\"\n        v-if=\"cart.total!==0\"\n      >\n        <form\n          class=\"col-md-6\"\n          @submit.prevent=\"createdOrder\"\n        >\n          <div class=\"form-group\">\n            <label for=\"useremail\">Email</label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              name=\"email\"\n              id=\"useremail\"\n              v-model=\"form.user.email\"\n              placeholder=\"請輸入 Email\"\n              v-validate=\"'required|email'\"\n            >\n            <span\n              class=\"text-danger\"\n              v-if=\"errors.has('email')\"\n            >{{ errors.first('email') }}</span>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"username\">收件人姓名</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              name=\"name\"\n              id=\"username\"\n              v-model=\"form.user.name\"\n              placeholder=\"輸入姓名\"\n              v-validate=\"'required'\"\n              :class=\"{'is-invalid':errors.has('name')}\"\n            >\n            <span\n              class=\"text-danger\"\n              v-if=\"errors.has('name')\"\n            >姓名必須輸入</span>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"usertel\">收件人電話</label>\n            <input\n              type=\"tel\"\n              class=\"form-control\"\n              id=\"usertel\"\n              v-model=\"form.user.tel\"\n              placeholder=\"請輸入電話\"\n            >\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"useraddress\">收件人地址</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              name=\"address\"\n              id=\"useraddress\"\n              v-model=\"form.user.address\"\n              placeholder=\"請輸入地址\"\n              v-validate=\"'required'\"\n              :class=\"{'is-invalid': errors.has('address')}\"\n            >\n            <span\n              v-if=\"errors.has('address')\"\n              class=\"text-danger\"\n            >地址欄位不得留空</span>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"comment\">留言</label>\n            <textarea\n              name\n              id=\"comment\"\n              class=\"form-control\"\n              cols=\"30\"\n              rows=\"10\"\n              v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-right\">\n            <button class=\"btn btn-danger\">送出訂單</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n<style scope>\n.tablew {\n  width: 500px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      coupon_code: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    removeCart(id) {\n      this.$store.dispatch('removeCart', id);\n    },\n    addCouponCode() {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\n        process.env.VUE_APP_CUSTOMPATH\n      }/coupon`;\n      const vm = this;\n      const coupon = { code: vm.coupon_code };\n      vm.$http.post(api, { data: coupon }).then((res) => {\n        if (res.data.success) {\n          this.$store.dispatch('getCarts');\n        }\n      });\n    },\n    createdOrder() {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\n        process.env.VUE_APP_CUSTOMPATH\n      }/order`;\n      const vm = this;\n      const order = vm.form;\n      this.$validator.validate().then((result) => {\n        if (result) {\n          vm.$http.post(api, { data: order }).then((res) => {\n            if (res.data.success) {\n              vm.$router.push(`/client/clientorder/${res.data.orderId}`);\n            }\n          });\n        } else {\n          vm.$store.dispatch('message/updateMessage', { message: '欄位不完整', status: 'danger' });\n        }\n      });\n    },\n  },\n  computed: {\n    cart() {\n      return this.$store.state.cart;\n    },\n    status() {\n      return this.$store.state.status.btnLoading;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderOut.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderOut.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderOut.vue?vue&type=template&id=1e644649&\"\nimport script from \"./OrderOut.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderOut.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderOut.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}