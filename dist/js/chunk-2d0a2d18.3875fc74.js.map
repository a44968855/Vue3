{"version":3,"sources":["webpack:///d:/Program Files/VueText/VUEshopsecond/src/views/Backstage/simulation.vue?7c4f","webpack:///src/views/Backstage/simulation.vue","webpack:///d:/Program Files/VueText/VUEshopsecond/src/views/Backstage/simulation.vue?9201","webpack:///d:/Program Files/VueText/VUEshopsecond/src/views/Backstage/simulation.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","card","index","key","staticStyle","height","background-size","background-position","style","backgroundImage","_v","_s","category","attrs","href","title","_f","origin_price","price","to","_e","type","on","click","$event","addTocart","id","_m","cart","item","Key","disabled","btnLoading","removeCart","product","qty","unit","final_total","colspan","total","directives","name","rawName","value","expression","placeholder","domProps","input","target","composing","CouponCode","addCouponCode","submit","preventDefault","createdOrder","for","form","user","required","$set","cols","rows","staticRenderFns","simulationvue_type_script_lang_js_","data","email","tel","address","message","methods","getProducts","$store","dispatch","getCarts","arguments","length","undefined","product_id","api","concat","vm","coupon","code","$http","post","then","res","success","order","$router","push","orderId","computed","products","state","backState","status","created","Backstage_simulationvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0a2d18.3875fc74.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},_vm._l((_vm.products),function(card,index){return _c('div',{key:index,staticClass:\"col-md-4 mb-4 mt-4\"},[_c('div',{staticClass:\"card border-0 shadow-sm\"},[_c('div',{staticStyle:{\"height\":\"150px\",\"background-size\":\"cover\",\"background-position\":\"center\"},style:({backgroundImage:(\"url(\" + (card.imageUrl) + \")\")})}),_c('div',{staticClass:\"card-body\"},[_c('span',{staticClass:\"badge badge-secondary float-right ml-2\"},[_vm._v(_vm._s(card.category))]),_c('h5',{staticClass:\"card-title\"},[_c('a',{staticClass:\"text-dark\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(card.title))])]),_c('p',{staticClass:\"card-text\"},[_vm._v(\"內容\")]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline\"},[_c('del',{staticClass:\"h6\"},[_vm._v(\"原價 \"+_vm._s(_vm._f(\"currency\")(card.origin_price))+\" 元\")]),_c('div',{staticClass:\"h5\"},[_vm._v(\"現在只要 \"+_vm._s(_vm._f(\"currency\")(card.price))+\" 元\")])])]),_c('div',{staticClass:\"card-footer d-flex\"},[_c('router-link',{staticClass:\"btn btn-outline-secondary btn-sm\",attrs:{\"to\":(\"/admin/product/\" + (card.id))}},[(_vm.btnLoading)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\"\\n            查看更多\\n          \")]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-auto\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addTocart(card.id)}}},[(_vm.btnLoading)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\"\\n            加到購物車\\n          \")])],1)])])}),0),_c('div',{staticClass:\"container\"},[_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{attrs:{\"Key\":item.id}},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\",\"disabled\":_vm.btnLoading===_vm.cart.id ? true : false},on:{\"click\":function($event){return _vm.removeCart(item.id)}}},[(_vm.btnLoading !== item.id)?_c('i',{staticClass:\"far fa-trash-alt\"}):_c('i',{staticClass:\"fas fa-spinner fa-spin\"})])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\"\\n            \"+_vm._s(item.product.title)+\"\\n            \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\"\\n              已套用優惠券\\n            \")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])]),_c('tr',[_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"折扣價\")]),_c('td',{staticClass:\"text-right text-success\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.final_total)))])])])]),_c('div',{staticClass:\"input-group mb-3 input-group-sm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.CouponCode),expression:\"CouponCode\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.CouponCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.CouponCode=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\"\\n          套用優惠碼\\n        \")])])]),_c('div',{staticClass:\"my-5 row justify-content-center\"},[_c('form',{staticClass:\"col-md-6\",on:{\"submit\":function($event){$event.preventDefault();return _vm.createdOrder($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",attrs:{\"type\":\"tel\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"地址欄位不得留空\")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_vm._m(1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th'),_c('th',[_vm._v(\"品名\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-danger\"},[_vm._v(\"送出訂單\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"row\">\n      <div\n        class=\"col-md-4 mb-4 mt-4\"\n        v-for=\"(card,index) in products\"\n        :key=\"index\"\n      >\n        <div class=\"card border-0 shadow-sm\">\n          <div\n            style=\"height: 150px; background-size: cover; background-position: center\"\n            :style=\"{backgroundImage:`url(${card.imageUrl})`}\"\n          >\n          </div>\n          <div class=\"card-body\">\n            <span class=\"badge badge-secondary float-right ml-2\">{{card.category}}</span>\n            <h5 class=\"card-title\">\n              <a\n                href=\"#\"\n                class=\"text-dark\"\n              >{{card.title}}</a>\n            </h5>\n            <p class=\"card-text\">內容</p>\n            <div class=\"d-flex justify-content-between align-items-baseline\">\n              <!-- <div class=\"h5\">2,800 元</div> -->\n              <del class=\"h6\">原價 {{card.origin_price | currency}} 元</del>\n              <div class=\"h5\">現在只要 {{card.price | currency}} 元</div>\n            </div>\n          </div>\n          <div class=\"card-footer d-flex\">\n            <router-link\n              class=\"btn btn-outline-secondary btn-sm\"\n              :to=\"`/admin/product/${card.id}`\"\n            >\n              <i\n                class=\"fas fa-spinner fa-spin\"\n                v-if=\"btnLoading\"\n              ></i>\n              查看更多\n            </router-link>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-danger btn-sm ml-auto\"\n              @click=\"addTocart(card.id)\"\n            >\n              <i\n                class=\"fas fa-spinner fa-spin\"\n                v-if=\"btnLoading\"\n              ></i>\n              加到購物車\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- cart--------------- -->\n    <div class=\"container\">\n      <table class=\"table\">\n        <thead>\n          <th></th>\n          <th>品名</th>\n          <th>數量</th>\n          <th>單價</th>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"item in cart.carts\"\n            :Key=\"item.id\"\n          >\n            <td class=\"align-middle\">\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"removeCart(item.id)\"\n                :disabled=\"btnLoading===cart.id ? true : false\"\n              >\n                <i\n                  class=\"far fa-trash-alt\"\n                  v-if=\"btnLoading !== item.id\"\n                ></i>\n                <i\n                  class=\"fas fa-spinner fa-spin\"\n                  v-else\n                ></i>\n\n              </button>\n            </td>\n            <td class=\"align-middle\">\n              {{ item.product.title }}\n              <div\n                class=\"text-success\"\n                v-if=\"item.coupon\"\n              >\n                已套用優惠券\n              </div>\n            </td>\n            <td class=\"align-middle\">{{ item.qty }}/{{ item.product.unit }}</td>\n            <td class=\"align-middle text-right\">{{ item.final_total | currency}}</td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td\n              colspan=\"3\"\n              class=\"text-right\"\n            >總計</td>\n            <td class=\"text-right\">{{ cart.total | currency }}</td>\n          </tr>\n          <tr>\n            <td\n              colspan=\"3\"\n              class=\"text-right text-success\"\n            >折扣價</td>\n            <td class=\"text-right text-success\">{{ cart.final_total | currency }}</td>\n          </tr>\n        </tfoot>\n      </table>\n      <div class=\"input-group mb-3 input-group-sm\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          placeholder=\"請輸入優惠碼\"\n          v-model=\"CouponCode\"\n        >\n        <div class=\"input-group-append\">\n          <button\n            class=\"btn btn-outline-secondary\"\n            type=\"button\"\n            @click=\"addCouponCode\"\n          >\n            套用優惠碼\n          </button>\n        </div>\n      </div>\n      <!-- form--------------- -->\n      <div class=\"my-5 row justify-content-center\">\n        <form\n          class=\"col-md-6\"\n          @submit.prevent=\"createdOrder\"\n        >\n          <div class=\"form-group\">\n            <label for=\"useremail\">Email</label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              name=\"email\"\n              id=\"useremail\"\n              v-model=\"form.user.email\"\n              placeholder=\"請輸入 Email\"\n              required\n            >\n            <span class=\"text-danger\"></span>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"username\">收件人姓名</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              name=\"name\"\n              id=\"username\"\n              v-model=\"form.user.name\"\n              placeholder=\"輸入姓名\"\n            >\n            <span class=\"text-danger\"></span>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"usertel\">收件人電話</label>\n            <input\n              type=\"tel\"\n              class=\"form-control\"\n              id=\"usertel\"\n              v-model=\"form.user.tel\"\n              placeholder=\"請輸入電話\"\n            >\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"useraddress\">收件人地址</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              name=\"address\"\n              id=\"useraddress\"\n              v-model=\"form.user.address\"\n              placeholder=\"請輸入地址\"\n            >\n            <span class=\"text-danger\">地址欄位不得留空</span>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"comment\">留言</label>\n            <textarea\n              name=\"\"\n              id=\"comment\"\n              class=\"form-control\"\n              cols=\"30\"\n              rows=\"10\"\n              v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-right\">\n            <button class=\"btn btn-danger\">送出訂單</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      CouponCode: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    getProducts() {\n      this.$store.dispatch('backState/getProducts');\n    },\n    getCarts() {\n      this.$store.dispatch('getCarts');\n    },\n    addTocart(id, qty = 1) {\n      this.$store.dispatch('addTocart', { product_id: id, qty });\n    },\n    removeCart(id) {\n      this.$store.dispatch('removeCart', id);\n    },\n    addCouponCode() {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\n        process.env.VUE_APP_CUSTOMPATH\n      }/coupon`;\n      const vm = this;\n      const coupon = { code: vm.CouponCode };\n      vm.$http.post(api, { data: coupon }).then((res) => {\n        if (res.data.success) {\n          vm.getCarts();\n        }\n      });\n    },\n    createdOrder() {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\n        process.env.VUE_APP_CUSTOMPATH\n      }/order`;\n      const vm = this;\n      const order = vm.form;\n      vm.$http.post(api, { data: order }).then((res) => {\n        if (res.data.success) {\n          vm.$router.push(`/admin/order/${res.data.orderId}`);\n        }\n      });\n    },\n  },\n  computed: {\n    products() {\n      return this.$store.state.backState.products;\n    },\n    cart() {\n      return this.$store.state.cart;\n    },\n    btnLoading() {\n      return this.$store.state.status.btnLoading;\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCarts();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./simulation.vue?vue&type=template&id=02cb04ce&\"\nimport script from \"./simulation.vue?vue&type=script&lang=js&\"\nexport * from \"./simulation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}